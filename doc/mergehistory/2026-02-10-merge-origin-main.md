# Merge origin/main → llm (2026-02-10)

## Commits from `origin/main`

| SHA | Description | Decision |
|-----|-------------|----------|
| `a499916` | feat(models): add opt-in custom Whisper model discovery | **Partial take** – backend integrated, frontend display handled manually |
| `82d5c75` | Add "Processing…" overlay state when post-processing | **Skip** – our advanced overlay state machine supersedes this |
| `4c9c200` | Add support for SenseVoice | **Take** – new ASR engine with multi-language support |
| `a9024d0` | fix: bottom overlay positioned partially off-screen | **Take** – applied position fix + `[patch.crates-io]` for `tauri-runtime` |
| `306bcb0` | docs: clarify Linux gtk-layer-shell runtime requirements | **Take** – pure documentation |
| `f10cdd3` | format | **Take** – formatting only |

## Conflict Resolution

| File | Strategy |
|------|----------|
| `overlay.rs` | **Keep ours** – advanced state machine (OverlayState enum, ready detection, mic levels). Applied bottom position fix (`- OVERLAY_HEIGHT`). |
| `actions.rs` | **Keep ours** – MLX post-processing, permission checks, session IDs |
| `RecordingOverlay.tsx` | **Keep ours** – multi-state overlay UI |
| `Cargo.lock` | **Took theirs** – regenerated by cargo with new deps |
| `model.rs` | **Auto-merged** – SenseVoice model + `is_custom` field + `discover_custom_whisper_models()` merged cleanly |
| `transcription.rs` | **Auto-merged** – SenseVoice engine loading/transcription merged cleanly |
| `bindings.ts` | **Keep ours** + manually added `SenseVoice` to `EngineType` and `is_custom` to `ModelInfo` |
| `LanguageSelector.tsx` | **Keep ours** + added `supportedLanguages` prop with `useMemo` filtering |
| `ModelsSettings.tsx` | **Keep ours** + added custom model sorting (official models first, custom last) |
| `ModelCard.tsx` (onboarding) | **Keep ours** |
| 12 non-EN translation files | **Keep ours** |
| `en/translation.json` | **Keep ours** + added keys: `sense-voice-int8`, `custom`, `customModels`, `customModelDescription` |
| `Cargo.toml` | **Auto-merged** – `[patch.crates-io]` section added cleanly |

## Verification

- `cargo check` ✅ (1 minor unused import warning in `settings.rs`)
- `bun run lint` ✅

## Notes

- "Codictate" branding preserved throughout
- Collapsible model sections and MLX integration untouched
- Changes left **uncommitted** for manual review
